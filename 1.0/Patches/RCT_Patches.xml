<Patch>

	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>*/TraitDef[defName = "Abrasive"]/conflictingTraits</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/TraitDef[defName = "Abrasive"]</xpath>
				<value>
					<conflictingTraits/>
				</value>
			</li>
		</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/TraitDef[defName = "Abrasive"]/conflictingTraits</xpath>
		<value>
			<li>Kind</li>
			<li>RCT_Diplomat</li>
			<li>RCT_Trader</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>*/TraitDef[defName = "Ascetic"]/conflictingTraits</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/TraitDef[defName = "Ascetic"]</xpath>
				<value>
					<conflictingTraits/>
				</value>
			</li>
		</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/TraitDef[defName = "Ascetic"]/conflictingTraits</xpath>
		<value>
			<li>RCT_Aesthete</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>*/TraitDef[defName = "AnnoyingVoice"]/conflictingTraits</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/TraitDef[defName = "AnnoyingVoice"]</xpath>
				<value>
					<conflictingTraits/>
				</value>
			</li>
		</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/TraitDef[defName = "AnnoyingVoice"]/conflictingTraits</xpath>
		<value>
			<li>RCT_Diplomat</li>
			<li>RCT_Trader</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>*/TraitDef[defName = "CreepyBreathing"]/conflictingTraits</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/TraitDef[defName = "CreepyBreathing"]</xpath>
				<value>
					<conflictingTraits/>
				</value>
			</li>
		</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/TraitDef[defName = "CreepyBreathing"]/conflictingTraits</xpath>
		<value>
			<li>RCT_Diplomat</li>
			<li>RCT_Trader</li>
		</value>
	</Operation>
	
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>*/TraitDef[defName = "FastLearner"]/conflictingTraits</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/TraitDef[defName = "FastLearner"]</xpath>
				<value>
					<conflictingTraits/>
				</value>
			</li>
		</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/TraitDef[defName = "FastLearner"]/conflictingTraits</xpath>
		<value>
			<li>RCT_Dunce</li>
			<li>RCT_Savant</li>
			<li>TooSmart</li>
		</value>
	</Operation>
	
	<Operation Class="PatchOperationAdd">
		<xpath>*/TraitDef[defName = "FastLearner"]/degreeDatas/li[label = "fast learner"]</xpath>
		<value>
			<commonality>0.30</commonality>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/TraitDef[defName = "FastLearner"]/degreeDatas</xpath>
		<value>
			<li>
				<label>decent learner</label>
				<description>[PAWN_nameDef] has always picked up skills pretty quickly.</description>
				<degree>2</degree>
				<commonality>0.50</commonality>
				<statOffsets>
					<GlobalLearningFactor>0.25</GlobalLearningFactor>
				</statOffsets>
			</li>
			<li>
				<label>slow learner</label>
				<description>[PAWN_nameDef] doesn't pick up skills easily.</description>
				<degree>-1</degree>
				<commonality>0.20</commonality>
				<statOffsets>
					<GlobalLearningFactor>-0.25</GlobalLearningFactor>
				</statOffsets>
			</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>*/TraitDef[defName = "Industriousness"]/conflictingTraits</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/TraitDef[defName = "Industriousness"]</xpath>
				<value>
					<conflictingTraits/>
				</value>
			</li>
		</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/TraitDef[defName = "Industriousness"]/conflictingTraits</xpath>
		<value>
			<li>RCT_Aptitude</li>
			<li>RCT_Perfectionist</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>*/TraitDef[defName = "NaturalMood"]/conflictingTraits</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/TraitDef[defName = "NaturalMood"]</xpath>
				<value>
					<conflictingTraits/>
				</value>
			</li>
		</operations>
	</Operation>

	<!--<Operation Class="PatchOperationAdd">
		<xpath>*/TraitDef[defName = "NaturalMood"]/conflictingTraits</xpath>
		<value>
			<li>RCT_Bipolar</li>
		</value>
	</Operation>-->

	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>*/TraitDef[defName = "Nerves"]/conflictingTraits</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/TraitDef[defName = "Nerves"]</xpath>
				<value>
					<conflictingTraits/>
				</value>
			</li>
		</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/TraitDef[defName = "Nerves"]/conflictingTraits</xpath>
		<value>
			<li>TooSmart</li>
		</value>
	</Operation>


	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>*/TraitDef[defName = "Nimble"]/conflictingTraits</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/TraitDef[defName = "Nimble"]</xpath>
				<value>
					<conflictingTraits/>
				</value>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/TraitDef[defName = "Nimble"]/degreeDatas</xpath>
				<value>
					<li>
						<label>deftly dodger</label>
						<description>[PAWN_nameDef] has cat-like reflexes, and excels at evading attacks.</description>
						<degree>2</degree>
						<statOffsets>
							<MeleeDodgeChance>20</MeleeDodgeChance>
						</statOffsets>
					</li>
					<li>
						<label>sluggish</label>
						<description>[PAWN_nameDef] is not very good at getting out of the way of blows.</description>
						<degree>-1</degree>
						<statOffsets>
							<MeleeDodgeChance>-10</MeleeDodgeChance>
						</statOffsets>
					</li>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>*/TraitDef[defName = "Nimble"]/degreeDatas/li[label = "nimble"]/statOffset</xpath>
				<value>
					<MeleeDoddgeChance>10</MeleeDoddgeChance>
				</value>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/TraitDef[defName = "Nimble"]/degreeDatas/li[label = "nimble"]</xpath>
				<value>
					<degree>1</degree>
				</value>
			</li>
		</operations>
	</Operation>
	
	<!--<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>*/TraitDef[defName = "SuperImmune"]/conflictingTraits</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/TraitDef[defName = "SuperImmune"]</xpath>
				<value>
					<conflictingTraits/>
				</value>
			</li>
		</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/TraitDef[defName = "SuperImmune"]/conflictingTraits</xpath>
		<value>
			<li>RCT_Constitution</li>
		</value>
	</Operation>-->
	
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>*/TraitDef[defName = "TooSmart"]/conflictingTraits</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/TraitDef[defName = "TooSmart"]</xpath>
				<value>
					<conflictingTraits/>
				</value>
			</li>
		</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/TraitDef[defName = "TooSmart"]/conflictingTraits</xpath>
		<value>
			<li>RCT_Dunce</li>
			<li>FastLearner</li>
			<li>RCT_Savant</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>*/TraitDef[defName = "Wimp"]/conflictingTraits</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/TraitDef[defName = "Wimp"]</xpath>
				<value>
					<conflictingTraits/>
				</value>
			</li>
		</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/TraitDef[defName = "Wimp"]/conflictingTraits</xpath>
		<value>
			<li>RCT_PainThreshold</li>
		</value>
	</Operation>
	
	<Operation Class="PatchOperationReplace">
		<xpath>*/TraitDef[defName = "Pyromaniac"]/commonality</xpath>
		<value>
			<commonality>0.1</commonality>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/TraitDef[defName = "Tough"]/degreeDatas/li[contains(.,"tough")]</xpath>
		<value>
			<commonality>0.4</commonality>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/TraitDef[defName = "Tough"]</xpath>
		<value>
			<conflictingTraits>
				<li>Wimp</li>
				<li>RCT_PainThreshold</li>
			</conflictingTraits>
		</value>
	</Operation>

	<!-- Thoughts -->
	
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
			  <xpath>*/ThoughtDef[defName="SleepDisturbed"]/nullifyingTraits</xpath>
			  <success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/ThoughtDef[defName="SleepDisturbed"]</xpath>
				<value>
					<nullifyingTraits>
						<li>RCT_DeepSleeper</li>
					</nullifyingTraits>
				</value>
			</li>
		</operations>
	</Operation>
	
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
			  <xpath>*/ThoughtDef[defName="NeedBeauty"]/nullifyingTraits</xpath>
			  <success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/ThoughtDef[defName="NeedBeauty"]</xpath>
				<value>
					<nullifyingTraits>
						<li>RCT_Aesthete</li>
					</nullifyingTraits>
				</value>
			</li>
		</operations>
	</Operation>
	
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
			  <xpath>*/ThoughtDef[defName="EnvironmentDark"]/nullifyingTraits</xpath>
			  <success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/ThoughtDef[defName="EnvironmentDark"]</xpath>
				<value>
					<nullifyingTraits>
						<li>RCT_Nyctophobe</li>
					</nullifyingTraits>
				</value>
			</li>
		</operations>
	</Operation>
	
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
			  <xpath>*/ThoughtDef[defName="EnvironmentHot"]/nullifyingTraits</xpath>
			  <success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/ThoughtDef[defName="EnvironmentHot"]</xpath>
				<value>
					<nullifyingTraits>
						<li>RCT_ColdLover</li>
						<li>RCT_HeatLover</li>
					</nullifyingTraits>
				</value>
			</li>
		</operations>
	</Operation>
	
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
			  <xpath>*/ThoughtDef[defName="EnvironmentCold"]/nullifyingTraits</xpath>
			  <success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/ThoughtDef[defName="EnvironmentCold"]</xpath>
				<value>
					<nullifyingTraits>
						<li>RCT_ColdLover</li>
						<li>RCT_HeatLover</li>
					</nullifyingTraits>
				</value>
			</li>
		</operations>
	</Operation>
</Patch>
